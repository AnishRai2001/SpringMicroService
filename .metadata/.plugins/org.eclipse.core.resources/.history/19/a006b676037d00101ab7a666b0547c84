spring:
  application:
    name: API-GATEWAY
server:
  port: 5555

cloud:
  gateway:
    routes:
      - id: microservice1
        uri: lb://MICROSERVICE-1
        predicates:
          - Path=/micro1/**
        filters:
          - RewritePath=/micro1/(?<segment>.*), /${segment}

      - id: microservice2
        uri: lb://MICROSERVICE-2
        predicates:
          - Path=/micro3/**
        filters:
          - RewritePath=/micro3/(?<segment>.*), /${segment}

      - id: auth-service
        uri: lb://JWTSECURITY
        predicates:
          - Path=/auth/**
        filters:
          - RewritePath=/auth/(?<segment>.*),api/employee/${segment}
